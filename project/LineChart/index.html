<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../style.css" />
    <script type="text/javascript" src="../../d3/topojson.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.5.0/d3.min.js"></script>
    <title>Line Chart</title>
  </head>

  <body>
    <script type="application/javascript" src="plotTemperatures.js"></script>
    <script type="application/javascript" src="support_charts.js"></script>
    <script type="application/javascript" src="lineChartSupport.js"></script>
    <script type="application/javascript" src="eventsTabMenu.js"></script>
    <script type="application/javascript" src="stripesChartSupport.js"></script>

    <p> 
      <h2 >NOTES: </h2>
      <ul>
        <li> Mettere come default dati globali</li>
      </ul> 
    </p>

    <span>
      <label>Dataset:</label>
      <select name="Dataset" id="dataset" onchange="changeData()"> </select>
    </span>
   
    <div id="tab_menu">
      
      <div class="tab">
        
        <button class="tablinks active" style="border-right: none;" onclick="click_tab(event, 'linechart')">Line Chart</button>
        <button class="tablinks" onclick="click_tab(event, 'stripechart')">Climate Stripes</button>
      
      </div>

        <div id="linechart" class="tabcontent"> <h1 id="country_line" class="country_t"></h1> <div class="tooltip" id="tooltip_line"> </div> </div>
        
        <div id="stripechart" class="tabcontent"> <h1 id="country_stripe" class="country_t"></h1> <div class="tooltip" id="tooltip_stripes"> </div> </div>

        
   
    </div>
    <script>
        var default_data;
        window.onload = () =>{
          
          const countries = '../../data/Countries.csv';
        
          d3.csv(countries)
            .then((data)=>{

                var i = 0;
                data.forEach( d => {

                  var dropdown = document.getElementById("dataset");
                  
                  var option =  document.createElement("option");
                  option.setAttribute("value", d.Country);
                  option.innerHTML = d.Country;
                  dropdown.append(option)
                  if( option.value == "Italy"){
                    dropdown.selectedIndex = i;
                    dropdown.options[i].selected = true;
                    // set Italy default dataset
                    default_dataset(option.value);
                  }
                  i++;

                });
          })

          

        }
        
        
        
        
        
    </script>
  </body>
</html>
